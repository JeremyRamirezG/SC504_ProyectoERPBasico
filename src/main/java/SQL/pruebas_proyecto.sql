-- PRUEBA SP
-- CLIENTE
VARIABLE RES VARCHAR2(5000);
EXECUTE SP_AGREGAR_CLIENTE('123456789', 'jrg@gmail.com', '87370400', 'Jeremy', NULL, 'Ramirez', 'Gonzalez', 'Condominio ACAVE2', :RES);
PRINT RES;

-- CORREOS
EXECUTE SP_AGREGAR_CORREO('123456789', 'jrg1@gmail.com', :RES);
PRINT RES;

EXECUTE SP_ACTUALIZAR_CORREO('123456789', 'jrg1@gmail.com', 'jrg01@gmail.com', :RES);
PRINT RES;

EXECUTE SP_BORRAR_CORREO('123456789', 'jrg01@gmail.com', :RES);
PRINT RES;

-- TELEFONOS
EXECUTE SP_AGREGAR_TELEFONO('123456789', '88088808', :RES);
PRINT RES;

EXECUTE SP_ACTUALIZAR_TELEFONO('123456789', '88088808', '88088809', :RES);
PRINT RES;

EXECUTE SP_BORRAR_TELEFONO('123456789', '88088809', :RES);
PRINT RES;

-- EMPLEADO
EXECUTE SP_AGREGAR_EMPLEADO('123456789', 'Jeremy', NULL, 'Ramirez', 'Gonzalez', 'Condominio ACAVE2', 'ADMIN', 'GERENCIA', 1000000, :RES);
PRINT RES;
EXECUTE SP_AGREGAR_EMPLEADO('123456780', 'Luis', NULL, 'Ramirez', 'Urena', 'Condominio ACAVE2', 'ADMIN', 'GERENCIA', 1000000, :RES);
PRINT RES;

-- ROLES
EXECUTE SP_AGREGAR_ROL_EMPLEADO('113456545', 'CHO', :RES);
PRINT RES;

EXECUTE SP_ACTUALIZAR_ROL_EMPLEADO('113456545', 'CHO', 'CAJAS', :RES);
PRINT RES;

EXECUTE SP_BORRAR_ROL_EMPLEADO('113456545', 'CAJAS', :RES);
PRINT RES;

-- FACTURAS
INSERT INTO TBL_PROOVEDORES (ID_PROOVEDOR, DESCRIPCION, FECHA_INGRESO)
VALUES ('PR001', 'VERDURAS JUAN S.A.', SYSDATE);
INSERT INTO TBL_PRODUCTOS (ID_PRODUCTO, DESCRIPCION, PRECIO, PROOVEDOR, FECHA_INGRESO, CANTIDAD)
VALUES ('V001', 'Tomate', 1.5, 'PR001', SYSDATE, 100);
INSERT INTO TBL_PRODUCTOS (ID_PRODUCTO, DESCRIPCION, PRECIO, PROOVEDOR, FECHA_INGRESO, CANTIDAD)
VALUES ('V002', 'Cebolla', 1.2, 'PR001', SYSDATE, 120);
INSERT INTO TBL_PRODUCTOS (ID_PRODUCTO, DESCRIPCION, PRECIO, PROOVEDOR, FECHA_INGRESO, CANTIDAD)
VALUES ('V003', 'Papa', 1.0, 'PR001', SYSDATE, 150);
INSERT INTO TBL_PRODUCTOS (ID_PRODUCTO, DESCRIPCION, PRECIO, PROOVEDOR, FECHA_INGRESO, CANTIDAD)
VALUES ('V004', 'Zanahoria', 1.3, 'PR001', SYSDATE, 100);
INSERT INTO TBL_PRODUCTOS (ID_PRODUCTO, DESCRIPCION, PRECIO, PROOVEDOR, FECHA_INGRESO, CANTIDAD)
VALUES ('V005', 'Lechuga', 1.8, 'PR001', SYSDATE, 200);
INSERT INTO TBL_PRODUCTOS (ID_PRODUCTO, DESCRIPCION, PRECIO, PROOVEDOR, FECHA_INGRESO, CANTIDAD)
VALUES ('V006', 'Brócoli', 1.6, 'PR001', SYSDATE, 120);
INSERT INTO TBL_PRODUCTOS (ID_PRODUCTO, DESCRIPCION, PRECIO, PROOVEDOR, FECHA_INGRESO, CANTIDAD)
VALUES ('V007', 'Espinaca', 2.0, 'PR001', SYSDATE, 90);
INSERT INTO TBL_PRODUCTOS (ID_PRODUCTO, DESCRIPCION, PRECIO, PROOVEDOR, FECHA_INGRESO, CANTIDAD)
VALUES ('V008', 'Calabacín', 1.4, 'PR001', SYSDATE, 110);
INSERT INTO TBL_PRODUCTOS (ID_PRODUCTO, DESCRIPCION, PRECIO, PROOVEDOR, FECHA_INGRESO, CANTIDAD)
VALUES ('V009', 'Coliflor', 1.7, 'PR001', SYSDATE, 80);
INSERT INTO TBL_PRODUCTOS (ID_PRODUCTO, DESCRIPCION, PRECIO, PROOVEDOR, FECHA_INGRESO, CANTIDAD)
VALUES ('V010', 'Champiñones', 2.2, 'PR001', SYSDATE, 100);
COMMIT;

EXEC SP_CREAR_FACTURA('123456789', '123456789', 'TARJETA', :RES);
PRINT RES;
EXEC SP_CREAR_FACTURA('123456789', '123456789', 'TARJETA', :RES);
PRINT RES;

EXECUTE SP_CREAR_LINEA_FACTURA(1, 'V001', 5, :RES);
PRINT RES;
EXECUTE SP_CREAR_LINEA_FACTURA(1, 'V001', 5, :RES);
PRINT RES;
EXECUTE SP_CREAR_LINEA_FACTURA(1, 'V002', 3, :RES);
PRINT RES;
EXECUTE SP_CREAR_LINEA_FACTURA(1, 'V003', 3, :RES);
PRINT RES;
EXECUTE SP_CREAR_LINEA_FACTURA(1, 'V004', 1, :RES);
PRINT RES;
EXECUTE SP_CREAR_LINEA_FACTURA(1, 'V005', 2, :RES);
PRINT RES;

EXEC SP_ACTUALIZAR_FACTURA ('123456789', '123456789', 'EFECTIVO', 2, SYSDATE, :RES);
PRINT RES;

EXEC SP_ACTUALIZAR_LINEA_FACTURA (1, 'V001', 10, 1, :RES);
PRINT RES;
EXEC SP_ACTUALIZAR_LINEA_FACTURA (1, 'V002', 1, 3, :RES);
PRINT RES;

EXEC SP_ELIMINAR_LINEA_FACTURA(1,1, :RES);
PRINT RES;
EXEC SP_ELIMINAR_FACTURA(2, :RES);
PRINT RES;

-- PRUEBA VISTAS
SELECT * FROM VST_EMPLEADO;
SELECT * FROM VST_CLIENTE;